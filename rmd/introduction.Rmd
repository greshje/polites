---
title: '<div><img src="ohdsi40x40.png"></img> <b>Polites Introduction</b> </div>'
output:
   html_document:
        toc: TRUE
        toc_depth: 4
        toc_float:
          collapsed: false
---

<!--
*
* Introduction
*
-->

<h2>Polites and Broadsea in a Nutshell</h2>
<p style="text-align: justify;">
Polites is a Java based tool that enables the automation of complete OHDSI implementations for Broadsea based OHDSI deployments. 
</p>
<p style="text-align: justify;">
Broadsea is an amazing tool that enables the reliable deployment of a complete OHDSI implementation repleate with a demo/test Common Data Model (CDM) instance.  
</p>
<p style="text-align: justify;">
However, creating a production instance of a CDM and getting it connected to Broadsea is a lengthy meticulous process.  
</p>
<p style="text-align: justify;">
Polites provides a way to automate this process and includes tools that can be used for the maintenance of existing production deployments.  
</p>

<!--
*
* Creating an Instance of Broadsea
*
-->

<h2>Creating an Instance of Broadsea</h2>
<p style="text-align: justify;">
  <p>
    Creating an instance of Broadsea is very easy, very reliable, and requires very few dependencies.  
  </p>
  <p>
    To install Broadsea you will need an instance of Java (a correct version), an instance of Git (a correct version), and an instance of Docker (a correct version)
  </p>
  <p>
    After the dependencies are installed, installing Docker is as simple as using Git to clone Broadsea from Github and checking out the version you want. After that Broadsea can be started by simply starting Docker from the Broadsea directory using docker-compose --profile default up -d. 
  </p>
  <p>
    The entire process is shown below.  
    <pre class="preformatted">
git config --global core.autocrlf false
git clone https://github.com/OHDSI/Broadsea
cd Broadsea
git checkout v3.0.0
cd Broadsea
docker-compose --profile default up -d
    </pre>
  </p>
  <p>
    And just like that, we have an OHDSI stack up and running. We can now go and take a look at the demo database provided by Broadsea at 
    <a href="http://127.0.0.1/atlas/">http://127.0.0.1/atlas/</a>
  </p>
  <p>
    <img src="./img/introduction/broadsea-atlas.jpg" />
  </p>
</p>

<h3>What Broadsea Does</h3>
<p style="text-align: justify;">
Broadsea provides a turn-key solution with unparalleled ease of use and a standardized stable production deployment that includes an instance of a Common Data Model replete with test data in PostgreSql.
</p>
<h3>What's Left to do Outside of Broadsea</h3>
<p style="text-align: justify;">
  <p>
    For virtually every user of Broadsea, there will come a time when there is a need to point to an instance of the CDM other than the demo instance that is included in Broadsea. 
  </p>
  <p>
    This could be a development or test instance that uses a different data set. This could be an instance that exists in a different DBMS such as SQL Server, PostgreSql, Databricks, Redshift, etc., or this could be the CDM for your production data. 
  </p>
  <p>
    Setting up this other CDM instance can be a lengthy meticulous process that for the most part occurs outside of Broadsea. 
  </p>
  <p>
    This process has been automated by Polites. 
  </p>
</p>

<h3>An Example</h3>
<p style="text-align: justify;">
  <p>
    As an example, lets look at the steps required to manually set up a CDM instance in SQL Server and get Broadsea to point to it. 
  </p>
  <h4>Set up for Broadsea</h4>
  <ul>
    <li>Install Java (the correct version)</li>
    <li>Install a Git client (a correct version)</li>
    <li>Install Docker (a correct version)</li>
    <li>Before we clone and check out Broadsea, remember that we need to use <i>git config --global core.autocrlf false</i></li>
    <li>Git clone Broadsea</li>
    <li>Git checkout the version of Broadsea we want to use</li>
    <li>Clear Docker of any previous version of Broadsea and possibly other application that may exist if this is not a new install of Docker</li>
    <li>
      Add postgresql.conf:
      <ul>
        <li>shared_buffers = 32GB</li>
        <li>work_mem = 32GB</li>
        <li>effective_cache_size = 32GB</li>
      </ul>
    </li>
    <li>
      Modifications to docker-compose.yml
      <ul>
        <li>mem_limit: 32g</li>
        <li>shm_size: 32g</li>
        <li>Mapping to resources file: - C:/temp:/temp</li>
        <li>Mapping to postgresql.conf: - ./postgresql.conf:/etc/postgresql/postgresql.conf</li>
      </ul>
    </li>
    
  </ul>
  <h4>Set up for SQL Server</h4>
  <ul>
    <li>Find and Install Microsoft SQL Server (a correct version)</li>
    <li>Download and install the JDBC Driver (the correct version)</li>
    <li>Download, install, and configure the DLL for the JDBC driver (the correct version)</li>
    <li>Enable TCP/IP</li>
    <li>Enable Mixed Mode Authentication</li>
    <li>Restart SQL Server</li>
  </ul>
</p>

<!--
*
* Automation with Polites
*
-->

<h2>Automation with Polites</h2>

<!--
*
* Polites: What's in a Name
*
-->

<h2>Polites: What's in a Name</h2>

